
# 设备管理

* [磁盘结构](#磁盘结构)     
* [磁盘调度算法](#磁盘调度算法)     
  * [简述](#简述)     
  * [先来先服务 FCFS](#先来先服务-FCFS)     
  * [最短寻道时间优先 SSTF](#最短寻道时间优先-SSTF)     
  * [电梯算法 SCAN](#电梯算法-SCAN)     

# 磁盘结构
* 盘面（Platter）：一个磁盘有多个盘面；
* 磁道（Track）：盘面上的圆形带状区域，一个盘面可以有多个磁道；
* 扇区（Track Sector）：磁道上的一个弧段，一个磁道可以有多个扇区，它是最小的物理储存单位，目前主要有512bytes与4k两种大小；
* 磁头（Head）：与盘面非常接近，能够将盘面上的磁场转换为电信号（读），或者将电信号转换为盘面的磁场（写）；
* 制动手臂（Actuator Arm）：用于在磁道之间移动磁头；
* 主轴（Spindle）：使整个盘面转动；
![image5-1](https://github.com/iii17-grace/Computer_Science/blob/master/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image5-1.png)

# 磁盘调度算法
## 简述
* 影响读写一个磁盘块的时间的因素有：
    * 旋转时间（主轴转动盘面，使得磁头移动到适当的扇区上）；
    * 寻道时间（制动手臂移动，使得磁头移动到适当的磁道上）；
    * 实际的数据传输时间；
* 寻道时间最长，因此磁盘调度的主要目标是使磁盘的平均寻道时间最短；

## 先来先服务 FCFS
`First Come First Served`
`按照磁盘请求的顺序进行调度`
* 优点：公平和简单；
* 缺点：因为未对寻道进行任何优化，使平均寻道时间可能较长；

## 最短寻道时间优先 SSTF
`Shortest Seek Time First`
`优先调度与当前磁头所在磁道距离最近的磁道`
* 虽然平均寻道时间比较低，但是不够公平；
* 如果新到达的磁道请求总是比一个在等待的磁道请求近，那么在等待的磁道请求会一直等待下去，也就是出现饥饿现象；
* 具体来说，两端的磁道请求更容易出现饥饿现象；
![image5-2](https://github.com/iii17-grace/Computer_Science/blob/master/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image5-2.png)

## 电梯算法 SCAN
`scan 扫描`
`电梯总是保证一个方向运行，直到该方向没有请求为止，然后改变运行方向`
* 因为考虑了移动方向，因此所有的磁盘请求都会被满足；
* 解决了SSTF的饥饿问题；
![image5-3](https://github.com/iii17-grace/Computer_Science/blob/master/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image5-3.png)

